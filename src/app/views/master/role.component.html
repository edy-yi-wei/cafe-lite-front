<div class="animated fadeIn">
  <!--HEADER FOR ACTION BUTTONS-->
  <div>    
    <button type="button" class="btn btn-secondary" (click)="addNew()"><i class="icon-plus"></i> Baru</button>
    <button type="button" class="btn btn-primary" (click)="saveRole()"><i class="icon-paper-plane"></i> Simpan</button>    
    <button type="button" class="btn btn-secondary" (click)="deleteRole()"><i class="icon-trash"></i> Hapus</button>
  </div>
  <br/>
  <div class="row">
      <div class="col-md-3">
          <div class="card">
            <div class="card-header">
              <i class="fa fa-align-justify"></i> <strong> Daftar Role</strong>
            </div>
            <div class="card-body">
              <div class="input-group">
                <input type="text" #searchBox (keyup.enter)="onSearchEnter(searchBox.value)" class="form-control form-control-sm" placeholder="Cari berdasarkan nama perusahaan">
                <span class="input-group-append">
                  <button class="btn btn-secondary btn-sm" type="button" (click)="onSearchEnter(searchBox.value)"><i class="icon-magnifier"></i></button>
                </span>
              </div>
              <br/>
              <table class="table table-striped form-control-sm">                
                <tbody>
                  <tr *ngFor="let r of roles">
                    <td><a href="#" (click)="showRole(r.roleId); false">{{r.roleName}}</a></td>
                  </tr>                  
                </tbody>
              </table>
              <pagination [boundaryLinks]="true" [rotate]="false" [totalItems]="totalItems" [formControl]="currentPage" (pageChanged)="pageChanged($event)" class="pagination-sm" [maxSize]="4"
                previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;"></pagination>
            </div>
          </div>
        </div>
    
    <div class="col-md-9">
      <div class="card">
        <div class="card-header">
          <strong>Role</strong>
          <small>{{mode.value}}</small>
        </div>
        <div class="card-body">
          <form [formGroup]="roleForm">            
            <div class="row">
              <div class="form-group col-md-8">
                <label for="role-name">Nama Role</label>
                <input type="text" formControlName="roleName" class="form-control form-control-sm" id="role-name">
              </div>
            </div>               
            <div class="row">
              <div class="form-group col-md-9">
                <label for="notes">Keterangan</label>
                <textarea id="notes" formControlName="notes" rows="4" class="form-control form-control-sm"></textarea>
              </div>
            </div>
          </form>
          <br/>          
          <div class="row">
            <div class="form-group col-md-12">
              <div class="card">
                <div class="card-header">
                  Daftar Modul
                </div>
                <div class="card-body">
                  <table class="table table-striped form-control-sm">
                    <thead>
                      <tr>
                        <th>Nama Modul</th>
                        <th style="text-align: center">Read Only</th>
                        <th style="text-align: center">Aktif</th>
                      </tr>
                    </thead>                
                    <tbody [formGroup]="moduleForm">
                        <tr formArrayName= "moduleList" *ngFor="let md of moduleForm.get('moduleList').controls; let i=index;">
                          <td>
                            {{moduleForm.controls.moduleList.controls[i].controls.moduleName.value}}
                          </td>
                          <td [formGroupName]="i" align="center">
                            <input class="form-check-input" type="checkbox" formControlName="readOnly">
                          </td>
                          <td [formGroupName]="i" align="center">
                            <input class="form-check-input" type="checkbox" formControlName="active">
                          </td>
                        </tr>                  
                    </tbody>
                  </table>                  
                </div>  
              </div>  
            </div>  
          </div>                             
        </div>
      </div>
    </div><!--/.col-->    
  </div><!--/.row-->  
</div>
